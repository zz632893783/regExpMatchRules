# regExpMatchRules
正则表达式匹配规则

## 1.首先字符串中的每一个字符都有位置

例如字符串：abcde
这个时候位置关系如下
```
     a      b      c      d      e
  ↑      ↑      ↑      ↑      ↑      ↑
 0位置  1位置  2位置   3位置  4位置  5位置
```

## 2.正则表达式有一个占位的概念

分为两种①是普通匹配，②是断言，普通匹配占宽度，断言不占宽度，普通匹配匹配的是字符，断言匹配的是某一个位置，所以断言也被叫做零宽度断言。

例如表达式：/\w(?=\d)/
表达式中\w匹配一个字符，占用一个宽度，(?=\d)表示一个数字的位置，整个正则表达式连接起来就是，首先匹配一个字母或者数字 \w，匹配的这个 \w 后面必须紧跟一个数字(?=\d)，这里的 \w 为普通匹配，占用宽度，而 (?=\d) 为断言，并不占用宽度，只是规定 \w 后面必须含有一个数字

看一下使用上面这个表达书进行匹配的结果
```javascript
('abc123').match(/\w(?=\d)/);
// 匹配到的结果为 ['c', index: 2, input: 'abc123'], 断言由于不占宽度所以match的结果只有字符'c'
```
## 3.正则表达式的控制权概念

联系第1点和第2点
例如我们有一个正则表达式，和一个需要进行匹配的字符串
```javascript
let reg = /bc/g;
let str = 'abcdabc';
```
```
      a      b      c      d      a      b      c
  ↑      ↑      ↑      ↑      ↑      ↑      ↑      ↑
0位置   1位置  2位置   3位置  4位置  5位置   6位置  7位置
```

1) 表达式 /bc/ 匹配bc字符，此时b是正则的起始匹配规则，整个正则控制权在b手中，首先从0位置开始匹配字符串'abcdabc'<br/>
2) 0位置之后字符为a，匹配失败，匹配位置由0位置转移到1位置，正则控制权回到整个正则表达式的最前面，所以这个时候控制权依旧在b手中(其实这里还牵扯到回溯，这里暂时先不做讨论)<br/>
3) 匹配位置转移到1之后，从1位置开始匹配，字符串1位置之后的字符为b,此时正则的控制权也是在b字符上，匹配成功，匹配的位置从1变为2，由于正则表达式中的b字符没有做量词修饰，即它表示只占有一个位置的宽度，所以b的控制结束，控制权移交给正则的下一个匹配字符c<br/>
4) 从2位置继续匹配，字符串2位置之后的字符为c，此时正则的控制权也正好在字符c上，匹配成功，匹配位置从2变为3，由于c没有做任何量词的修饰，表示他只占有1个宽度，所以c的控制结束，控制权继续移交给正则的下一个匹配字符<br/>
5) 匹配字符c之后已经没有其他的匹配字符了，整个正则表达式结束，此时字符串的匹配位置依旧是上一步结束时候的3位置<br/>
6) 由于正则表达式声明为g全局匹配，所以整个正则表达式将从头开始，控制权移交给整个正则表达式的起始字符b<br/>
7) 正则表达式控制权在b，匹配位置为之前匹配成功的结束位置3，字符串3位置之后的字符为d，表达式b匹配字符d失败，控制权依旧在起始位置b，字符串匹配位置由3变为4<br/>
8) 正则表达式控制权在b，匹配位置为4，字符串4位置时候的字符为a，表达式b匹配字符a失败，控制权依旧在起始位置b，字符串匹配位置由4变为5<br/>
9) 正则表达式控制权在b，匹配位置为5，字符串5位置时候的字符为b，匹配成功，匹配的位置从5变为6制权，由于正则表达式中的b字符没有做量词修饰，即它表示只占有一个位置的宽度，所以b的控制结束，控制权移交给正则的下一个匹配字符c<br/>
10) 正则表达式控制权在c，匹配位置为6，字符串6位置时候的字符为c，匹配成功，匹配的位置从6变为7制权，由于正则表达式中的c字符没有做量词修饰，即它表示只占有一个位置的宽度，所以c的控制结束，控制权继续向后移交<br/>
11) 正则表达式结束，由于它是全局匹配，控制权再次回到b，但是由于这个时候所匹配的字符串已经结束了，所以整个匹配过程结束
